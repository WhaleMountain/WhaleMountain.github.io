<!doctype html><html><head><meta charset=utf-8><title>Whale Mountain
</title><meta name=viewport id=viewport content="width=device-width,initial-scale=1"><link rel=icon type=image/x-icon href=https://whalem.net/images/wm.png><link rel=apple-touch-icon href=https://whalem.net/images/wm.png><link rel=stylesheet href=https://whalem.net/scss/style.css><link rel=stylesheet href=https://whalem.net/scss/monokai-sublime.min.css><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js></script><link rel=stylesheet href=https://whalem.net/scss/highlight.css><link rel=stylesheet href=https://whalem.net/scss/custom.css><meta name=generator content="Hugo 0.145.0"></head><body><div class=header><div class=site-logo__wrap><div id=site-button><div></div></div><div class=site-logo><a href=https://whalem.net/><img src=https://whalem.net/images/wm.png></a></div></div><div class='site-nav u-font' id=nav-bar><div class=site-nav__wrap><a class=site-nav__el href=/>HOME</a></div><div class=site-nav__wrap><a class=site-nav__el href=/post>POST</a></div><div class=site-nav__wrap><a class=site-nav__el href=/about>ABOUT</a></div><div class=site-nav__wrap><a class=site-nav__el href=/tags/>TAGS</a></div></div></div><div class=main><div class=main-content><div class=main-content__date><h4 id=date>Published on 2025.04.06 15:11</h4><h4 id=date>Edited on 2025.04.07 20:29</h4></div><div class=main-content__title><h1 id=title>新しいPCのセットアップ</h1></div><div class=main-content__article><article id=content><p>新しくWindows PCを購入したので環境構築でやったことを軽くメモする。</p><ul><li>使用環境<ul><li>Vivobook S14 M5406WA</li></ul></li></ul><p>全て載せるのは面倒なので忘れやすそうなもののみ雑にまとめる。</p><h1 id=デバイス関連>デバイス関連</h1><h3 id=jisus配列の設定>JIS/US配列の設定</h3><p>ノートPCのキーボードはJIS配列、Bluetoothで繋ぐ外付けキーボードはUS配列なのでそのまま使うとJIS配列になる。<br>下記サイトを参考に設定する。感謝!!</p><ul><li><a href=https://zenn.dev/kakuhito/articles/d27128d0b62098>外付けUSキーボードと内蔵JISキーボードを共存させたい(Win10/11)</a></li></ul><p>Windowsの設定を開き <code>時刻と言語 > 言語と地域 > 日本語の(・・・)メニュー > 言語のオプション > キーボード > レイアウトを変更する > 接続済みキーボード レイアウトを使用する > OK</code> を押す。</p><p>(本当はこれだけで設定できたら嬉しい)<br>このままでは内臓キーボードもUS配列で認識されるので、サイトを参考に <code>.reg</code> ファイルを作成してレジストリに値を追加する。<br>インスタンスパスはデバイスマネージャーの「標準 PS/2 キーボード」で問題なく設定できました。</p><h3 id=ctrl2cap>Ctrl2Cap</h3><p><em><strong>これが一番重要!!かも</strong></em></p><p>MicrosoftのページからCtrl2Cap v3.0をダウンロードする。</p><ul><li><a href=https://learn.microsoft.com/ja-jp/sysinternals/downloads/ctrl2cap>Ctrl2Cap v3.0</a></li></ul><p>ダウンロードしたzipファイルを展開して、Windows Terminalを管理者モードで開く。<br>PowerShellで展開したフォルダの場所まで移動して、インストールコマンドを叩いたらPCを再起動する。</p><pre><code class=language-shell>.\ctrl2cap.exe /install
</code></pre><p>平穏が訪れる。</p><hr><h1 id=ソフトウェア関連>ソフトウェア関連</h1><h3 id=wsl2の導入>WSL2の導入</h3><p>Microsoftのページに従ってPowerShellからインストール。デフォルトでUbuntu24.04がインストールされました。</p><ul><li><a href=https://learn.microsoft.com/ja-jp/windows/wsl/install>WSL を使用して Windows に Linux をインストールする方法</a></li></ul><pre><code class=language-shell>wsl --install
</code></pre><h3 id=rancher-desktop-docker-desktop><del>Rancher Desktop</del> Docker Desktop</h3><p>Docker Desktopでもいいが、<del>使ったことがなかったのでRancher Desktopを導入しました。</del></p><ul><li><a href=https://docs.rancherdesktop.io/getting-started/installation/#installing-rancher-desktop-on-windows>Installing Rancher Desktop on Windows</a></li></ul><p>公式サイトに従ってインストール後、起動し <code>Preferences > WSL > Ubuntu</code> にチェックを入れ <code>Apply</code> で反映する。<br><del>あとはWSL2のUbuntuから<code>docker</code>コマンドを使用できる。特に設定もなく<code>docker compose</code>も利用でき、今のところ不便はなさそう。</del></p><p>はやりのMCPサーバをRancher Desktopで動かしたところClaude Desktopからアクセスできなかったので、Docker Desktopに変更しました。。。</p><h3 id=go>Go</h3><p>Ubuntu24.04からはPPAのリポジトリを追加しなくてもインストールできました。</p><pre><code class=language-shell>apt install golang
</code></pre><p>あとは <code>$HOME/.zsh/zsh-custom.zsh</code> に環境変数を設定する。</p><pre><code class=language-zsh>export GOPATH=$HOME/.go
export GOBIN=$GOPATH/bin
export PATH=$PATH:$GOBIN
</code></pre><h3 id=1password-ssh-agent>1Password SSH Agent</h3><p>1PasswordでSSHキーを管理しているので、WSL2から鍵を参照できるように設定する。<br>(SSHキーの作成やGitHubへの登録は事前に終わっている前提です。)</p><ul><li><a href=https://developer.1password.com/docs/ssh/integrations/wsl/>Use the 1Password SSH agent with WSL</a></li></ul><p>1Password Desktopの設定から <code>SSHエージェント</code> を有効にしたら、WSL2からアクセスできるか確認する。</p><pre><code class=language-shell>ssh-add.exe -l
</code></pre><p>キーを表示出来たらGitHubにSSHリクエストを送って確認する。Ubuntuの <code>ssh</code> ではなく、 <code>ssh.exe</code> を利用します。</p><pre><code class=language-shell>ssh.exe -T git@github.com
</code></pre><p>最後にGitコマンドのSSH設定を変更する。</p><pre><code class=language-shell>git config --global core.sshCommand ssh.exe
</code></pre></article></div><div class="main-content__tags u-font"><span><a href=https://whalem.net/tags/2025-04>2025-04</a></span>
<span><a href=https://whalem.net/tags/windows>Windows</a></span></div></div><div class=main-profile><div class=main-profile__avatar><img src="https://avatars.githubusercontent.com/u/33239408?s=460&amp;u=e42f33454abd96a2add42e436aa64421a0591d00&amp;v=4"></div><div class=main-profile__body><div class=main-profile__author><span>Whale Mountain</span></div><div class=main-profile__description><p>Tofu on fire :)</p></div></div></div><div class=main-line></div><div class=main-pn><a class=previous href=https://whalem.net/post/2025-02/adgurd-home-setup/><div class=pn-dec></div><div class=pn-els><div class=pn-el__1>2025.02.24 21:03</div><div class=pn-el__2>AdGuard Homeの導入</div></div></a></div></div><div class=footer><div class=copyright-wrap><p class="copyright u-font">© 2021 Whale Mountain. Theme yuki. Powered by Hugo.</p></div></div></body><script src=https://whalem.net/js/page.js></script><script>hljs.highlightAll()</script>